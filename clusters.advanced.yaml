---
- ClusterName: dcos
  Admin: admin
  AdminPassword: pC7VknRGGr7jAM
  DNS:
    MasterAlias:
      - dcos.test.mesosphere.com
    PubAgentAlias:
      - servicea.test.mesosphere.com
      - serviceb.test.mesosphere.com
  Stacks:
  - StackName: DCOSInfra
    Region: eu-central-1
    TemplateURL: https://s3.amazonaws.com/downloads.mesosphere.io/dcos/testing/continuous/cloudformation/infra.json
    Parameters:
      AdminLocation: '0.0.0.0/0'
      InternetGateway: '@stack.DCOSBaseNetwork.resources.InternetGateway@'
      KeyName: 'default'
      PrivateSubnet: '@stack.DCOSBaseNetwork.resources.PrivateSubnet@'
      PublicSubnet: '@stack.DCOSBaseNetwork.resources.PublicSubnet@'
      Vpc: '@stack.DCOSBaseNetwork.resources.Vpc@'
  - StackName: DCOSMaster
    Region: eu-central-1
    TemplateURL: https://s3.amazonaws.com/downloads.mesosphere.io/dcos/testing/continuous/cloudformation/ee.advanced-master-5.json
    Parameters:
      AcceptEULA: 'Yes'
      AdminSecurityGroup: '@stack.DCOSInfra.resources.AdminSecurityGroup@'
      ExhibitorS3Bucket: '@stack.DCOSInfra.resources.ExhibitorS3Bucket@'
      KeyName: 'default'
      LbSecurityGroup: '@stack.DCOSInfra.resources.LbSecurityGroup@'
      MasterInstanceType: 'm3.xlarge'
      MasterSecurityGroup: '@stack.DCOSInfra.resources.MasterSecurityGroup@'
      PrivateAgentSecurityGroup: '@stack.DCOSInfra.resources.PrivateAgentSecurityGroup@'
      PrivateSubnet: '@stack.DCOSBaseNetwork.resources.PrivateSubnet@'
      PublicAgentSecurityGroup: '@stack.DCOSInfra.resources.PublicAgentSecurityGroup@'
      PublicSubnet: '@stack.DCOSBaseNetwork.resources.PublicSubnet@'
  - StackName: DCOSPrivAgent
    Region: eu-central-1
    TemplateURL: https://s3.amazonaws.com/downloads.mesosphere.io/dcos/testing/continuous/cloudformation/ee.advanced-priv-agent.json
    Parameters:
      InternalMasterLoadBalancerDnsName: '@stack.DCOSMaster.outputs.InternalMasterLoadBalancerDnsName@'
      KeyName: 'default'
      PrivateAgentInstanceCount: 5
      PrivateAgentInstanceType: 'm3.xlarge'
      PrivateAgentSecurityGroup: '@stack.DCOSInfra.resources.PrivateAgentSecurityGroup@'
      PrivateSubnet: '@stack.DCOSBaseNetwork.resources.PrivateSubnet@'
  - StackName: DCOSPubAgent
    Region: eu-central-1
    TemplateURL: https://s3.amazonaws.com/downloads.mesosphere.io/dcos/testing/continuous/cloudformation/ee.advanced-pub-agent.json
    Parameters:
      InternalMasterLoadBalancerDnsName: '@stack.DCOSMaster.outputs.InternalMasterLoadBalancerDnsName@'
      KeyName: 'default'
      PublicAgentInstanceCount: 2
      PublicAgentInstanceType: 'm3.xlarge'
      PublicAgentSecurityGroup: '@stack.DCOSInfra.resources.PublicAgentSecurityGroup@'
      PublicSubnet: '@stack.DCOSBaseNetwork.resources.PublicSubnet@'
